{
  "entity_checks": [
    {
      "custom_entity_check": {
        "field_sources": [
          "authentication"
        ]
      }
    }
  ],
  "fields": [
    {
      "authentication": {
        "fields": [
          {
            "mechanism": {
              "description": "The SASL authentication mechanism.  Supported options: `PLAIN` or `SCRAM-SHA-256`.",
              "one_of": [
                "PLAIN",
                "SCRAM-SHA-256",
                "SCRAM-SHA-512"
              ],
              "required": false,
              "type": "string"
            }
          },
          {
            "password": {
              "description": "Password for SASL authentication.",
              "encrypted": true,
              "referenceable": true,
              "required": false,
              "type": "string"
            }
          },
          {
            "strategy": {
              "description": "The authentication strategy for the plugin, the only option for the value is `sasl`.",
              "one_of": [
                "sasl"
              ],
              "required": false,
              "type": "string"
            }
          },
          {
            "tokenauth": {
              "description": "Enable this to indicate `DelegationToken` authentication",
              "required": false,
              "type": "boolean"
            }
          },
          {
            "user": {
              "description": "Username for SASL authentication.",
              "encrypted": true,
              "referenceable": true,
              "required": false,
              "type": "string"
            }
          }
        ],
        "required": true,
        "type": "record"
      }
    },
    {
      "auto_offset_reset": {
        "default": "latest",
        "description": "The offset to start from when there is no initial offset in the consumer group.",
        "one_of": [
          "earliest",
          "latest"
        ],
        "required": true,
        "type": "string"
      }
    },
    {
      "bootstrap_servers": {
        "description": "Set of bootstrap brokers in a `{host: host, port: port}` list format.",
        "elements": {
          "fields": [
            {
              "host": {
                "description": "A string representing a host name, such as example.com.",
                "required": true,
                "type": "string"
              }
            },
            {
              "port": {
                "between": [
                  0,
                  65535
                ],
                "description": "An integer representing a port number between 0 and 65535, inclusive.",
                "required": true,
                "type": "integer"
              }
            }
          ],
          "type": "record"
        },
        "required": true,
        "type": "set"
      }
    },
    {
      "cluster_name": {
        "description": "An identifier for the Kafka cluster.",
        "required": false,
        "type": "string"
      }
    },
    {
      "commit_strategy": {
        "default": "auto",
        "description": "The strategy to use for committing offsets.",
        "one_of": [
          "auto",
          "off"
        ],
        "required": true,
        "type": "string"
      }
    },
    {
      "message_deserializer": {
        "default": "noop",
        "description": "The deserializer to use for the consumed messages.",
        "one_of": [
          "json",
          "noop"
        ],
        "required": true,
        "type": "string"
      }
    },
    {
      "mode": {
        "default": "http-get",
        "description": "The mode of operation for the plugin.",
        "one_of": [
          "http-get",
          "server-sent-events",
          "websocket"
        ],
        "required": true,
        "type": "string"
      }
    },
    {
      "schema_registry": {
        "description": "The plugin-global schema registry configuration.",
        "fields": [
          {
            "confluent": {
              "fields": [
                {
                  "authentication": {
                    "entity_checks": [
                      {
                        "custom_entity_check": {
                          "field_sources": [
                            "basic",
                            "mode"
                          ]
                        }
                      }
                    ],
                    "fields": [
                      {
                        "basic": {
                          "fields": [
                            {
                              "password": {
                                "encrypted": true,
                                "referenceable": true,
                                "required": true,
                                "type": "string"
                              }
                            },
                            {
                              "username": {
                                "encrypted": true,
                                "referenceable": true,
                                "required": true,
                                "type": "string"
                              }
                            }
                          ],
                          "required": false,
                          "type": "record"
                        }
                      },
                      {
                        "mode": {
                          "default": "none",
                          "description": "Authentication mode to use with the schema registry.",
                          "one_of": [
                            "basic",
                            "none"
                          ],
                          "required": true,
                          "type": "string"
                        }
                      }
                    ],
                    "required": true,
                    "type": "record"
                  }
                },
                {
                  "ssl_verify": {
                    "default": true,
                    "description": "Set to false to disable SSL certificate verification when connecting to the schema registry.",
                    "type": "boolean"
                  }
                },
                {
                  "ttl": {
                    "between": [
                      0,
                      3600
                    ],
                    "description": "The TTL in seconds for the schema registry cache.",
                    "type": "number"
                  }
                },
                {
                  "url": {
                    "description": "The URL of the schema registry.",
                    "required": false,
                    "type": "string"
                  }
                }
              ],
              "required": false,
              "type": "record"
            }
          }
        ],
        "required": true,
        "type": "record"
      }
    },
    {
      "security": {
        "fields": [
          {
            "certificate_id": {
              "description": "UUID of certificate entity for mTLS authentication.",
              "required": false,
              "type": "string",
              "uuid": true
            }
          },
          {
            "ssl": {
              "description": "Enables TLS.",
              "required": false,
              "type": "boolean"
            }
          }
        ],
        "required": true,
        "type": "record"
      }
    },
    {
      "topics": {
        "description": "The Kafka topics and their configuration you want to consume from.",
        "elements": {
          "fields": [
            {
              "name": {
                "required": true,
                "type": "string"
              }
            },
            {
              "schema_registry": {
                "description": "The plugin-global schema registry configuration.",
                "fields": [
                  {
                    "confluent": {
                      "fields": [
                        {
                          "authentication": {
                            "entity_checks": [
                              {
                                "custom_entity_check": {
                                  "field_sources": [
                                    "basic",
                                    "mode"
                                  ]
                                }
                              }
                            ],
                            "fields": [
                              {
                                "basic": {
                                  "fields": [
                                    {
                                      "password": {
                                        "encrypted": true,
                                        "referenceable": true,
                                        "required": true,
                                        "type": "string"
                                      }
                                    },
                                    {
                                      "username": {
                                        "encrypted": true,
                                        "referenceable": true,
                                        "required": true,
                                        "type": "string"
                                      }
                                    }
                                  ],
                                  "required": false,
                                  "type": "record"
                                }
                              },
                              {
                                "mode": {
                                  "default": "none",
                                  "description": "Authentication mode to use with the schema registry.",
                                  "one_of": [
                                    "basic",
                                    "none"
                                  ],
                                  "required": true,
                                  "type": "string"
                                }
                              }
                            ],
                            "required": true,
                            "type": "record"
                          }
                        },
                        {
                          "ssl_verify": {
                            "default": true,
                            "description": "Set to false to disable SSL certificate verification when connecting to the schema registry.",
                            "type": "boolean"
                          }
                        },
                        {
                          "ttl": {
                            "between": [
                              0,
                              3600
                            ],
                            "description": "The TTL in seconds for the schema registry cache.",
                            "type": "number"
                          }
                        },
                        {
                          "url": {
                            "description": "The URL of the schema registry.",
                            "required": false,
                            "type": "string"
                          }
                        }
                      ],
                      "required": false,
                      "type": "record"
                    }
                  }
                ],
                "required": true,
                "type": "record"
              }
            }
          ],
          "type": "record"
        },
        "len_min": 1,
        "required": true,
        "type": "array"
      }
    }
  ],
  "required": true,
  "type": "record"
}