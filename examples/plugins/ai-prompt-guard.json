{
  "fields": [
    {
      "allow_all_conversation_history": {
        "default": false,
        "description": "If true, will ignore all previous chat prompts from the conversation history.",
        "required": true,
        "type": "boolean"
      }
    },
    {
      "allow_patterns": {
        "description": "Array of valid regex patterns, or valid questions from the 'user' role in chat.",
        "elements": {
          "len_max": 500,
          "len_min": 1,
          "type": "string"
        },
        "len_max": 10,
        "required": false,
        "type": "array"
      }
    },
    {
      "deny_patterns": {
        "description": "Array of invalid regex patterns, or invalid questions from the 'user' role in chat.",
        "elements": {
          "len_max": 500,
          "len_min": 1,
          "type": "string"
        },
        "len_max": 10,
        "required": false,
        "type": "array"
      }
    },
    {
      "genai_category": {
        "default": "text/generation",
        "description": "Generative AI category of the request",
        "one_of": [
          "audio/speech",
          "audio/transcription",
          "image/generation",
          "realtime/generation",
          "text/embeddings",
          "text/generation",
          "video/generation"
        ],
        "required": false,
        "type": "string"
      }
    },
    {
      "llm_format": {
        "default": "openai",
        "description": "LLM input and output format and schema to use",
        "one_of": [
          "bedrock",
          "cohere",
          "gemini",
          "huggingface",
          "openai"
        ],
        "required": false,
        "type": "string"
      }
    },
    {
      "match_all_roles": {
        "default": false,
        "description": "If true, will match all roles in addition to 'user' role in conversation history.",
        "required": true,
        "type": "boolean"
      }
    },
    {
      "max_request_body_size": {
        "default": 8192,
        "description": "max allowed body size allowed to be introspected. 0 means unlimited, but the size of this body will still be limited by Nginx's client_max_body_size.",
        "gt": 0,
        "type": "integer"
      }
    }
  ],
  "required": true,
  "type": "record"
}